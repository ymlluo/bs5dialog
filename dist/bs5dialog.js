!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).bs5dialog={})}(this,(function(e){"use strict";function t(e){return/^(http|https|ftp|ftps|file|data|mailto|tel|sms|urn):\/\/[\S]+|^\/[\S]+|^\.\/[\S]+/.test(e)}function o(e){return e instanceof Element?e:"string"==typeof e?document.querySelector(e):null}function n(e){const t=o(e);t&&(t.style.position="absolute",t.style.resize="both",t.style.overflow="auto")}function s(e,t){e=o(e),(t=o(t)).style.cursor="move";let n=0,s=0,i=0,a=0,l=0,r=0;function d(e){e.preventDefault(),i=e.clientX,a=e.clientY,document.onmouseup=p,document.onmousemove=c}function c(t){t.preventDefault(),n=i-t.clientX,s=a-t.clientY,i=t.clientX,a=t.clientY,e.style.top=e.offsetTop-s+"px",e.style.left=e.offsetLeft-n+"px"}function p(){document.onmouseup=null,document.onmousemove=null;let o=t.getBoundingClientRect(),n=e.getBoundingClientRect();o.top+t.offsetHeight<0||o.top>window.innerHeight?e.style.top=r+"px":r=n.top,o.left+t.offsetWidth+60<0||o.right-t.offsetWidth>window.innerWidth?e.style.left=l+"px":l=n.left}t?t.onmousedown=d:e.onmousedown=d}function i(e,t){const o=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=Math.max(o.left,n.left),i=Math.max(o.top,n.top);return{overlapWidth:Math.min(o.right,n.right)-s,overlapHeight:Math.min(o.bottom,n.bottom)-i}}function a(){return"dialg-"+Math.floor(1e6*Math.random())}function l(){let e=document.createElement("div");return e.classList.add("modal","bs5dialog-modal"),e.setAttribute("data-bs-backdrop","static"),e.setAttribute("tabindex","-1"),e}function r(e,t=1e3){const n=o(e);return n.disabled=!0,n.classList.add("disabled"),n.timeoutId=setTimeout((()=>{d(n)}),t),n.timeoutId}function d(e){const t=o(e);t.disabled=!1,t.classList.remove("disabled"),clearTimeout(t.timeoutId)}function c(){return Math.max(...[...document.querySelectorAll("*")].map((e=>parseFloat(getComputedStyle(e).zIndex))).filter((e=>!isNaN(e))))}function p(e){switch(e){case"bg-primary":case"bg-secondary":case"bg-success":case"bg-danger":case"bg-warning":case"bg-info":case"bg-dark":return"text-white";default:return"text-dark"}}async function u(e,t="GET",o={},n=null,s={}){const i=document.querySelector('meta[name="csrf-token"]');i&&(o["X-CSRF-TOKEN"]=i.content),s={method:t,headers:{...o},...s},n&&(n instanceof FormData?s.body=n:(s.body=JSON.stringify(n),s.headers["Content-Type"]="application/json"));try{const t=await fetch(e,s),o=t.headers.get("content-type"),n=t.ok,i=t.status;let a,l;return o&&-1!==o.indexOf("text/html")?(a=await t.text(),console.log(t.url),l="html"):(a=await t.json(),l="json"),{isSuccess:n,statusCode:i,content:a,contentType:l}}catch(e){return{isSuccess:!1,statusCode:e.status,content:e.message}}}function m(e,t="",o={}){if(!t||!e)return;const n=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:o});event&&event.target&&event.target instanceof Element&&event.target.dispatchEvent(n),e.dispatchEvent(n)}function h(e,t){let o;return(...n)=>{clearTimeout(o),o=setTimeout((()=>{e(...n)}),t)}}function g(e,t){let o,n;return(...s)=>{n?(clearTimeout(o),o=setTimeout((()=>{Date.now()-n>=t&&(e(...s),n=Date.now())}),t-(Date.now()-n))):(e(...s),n=Date.now())}}function b(e,t){let o,n=!1,s=!1;const i={x:e.offsetLeft,y:e.offsetTop};let a,l,r,d={width:0,height:0};t.created?.(e);const c=()=>{e.parentNode?(r&&clearTimeout(r),t.rendered?.(),n=!0,l=e.querySelector("div[style*='resize: both']"),l&&(d.width=l.offsetWidth,d.height=l.offsetHeight),p.observe(e.parentNode,{childList:!0,attributes:!0,attributeFilter:["style","class"],subtree:!0}),u.observe(e,{attributes:!0,attributeFilter:["style"],subtree:!0})):r=setTimeout(c,100)},p=new MutationObserver(h((i=>{for(const r of i){const{type:i,target:c}=r;switch(i){case"attributes":if(c!==e)continue;a=window.getComputedStyle(c),n&&(l&&(o=new ResizeObserver(g((()=>{l.offsetWidth==d.width&&l.offsetHeight==d.height||(d.width=l.offsetWidth,d.height=l.offsetHeight,t.resize?.())}),200)),o.observe(l)),0==s&&"none"===a.display||0===a.opacity||"hidden"===a.visibility?(s=!0,n=!1,t.hidden?.()):(s=!1,n||t.rendered?.()));break;case"childList":r.removedNodes.forEach((function(o){o===e&&(t.remove?.(),p.disconnect())}))}}}),0)),u=new MutationObserver(g((()=>{const o={x:e.offsetLeft,y:e.offsetTop};o.x===i.x&&o.y===i.y||(t.dragged?.(o),i.x=o.x,i.y=o.y)}),200));return c(),Promise.resolve().finally((()=>{o&&o.disconnect()}))}var v={getTargetElement:o,isUrlOrPath:t,makeDraggable:s,makeResizable:n,makeRequest:u,getOverlapDimensions:i,genDialogId:a,setModalWrapper:l,replayLock:r,cancelReplayLock:d,getMaxZIndex:c,getTextClass:p,triggerEvent:m,debounce:h,throttle:g,observeElement:b},f=Object.freeze({__proto__:null,cancelReplayLock:d,debounce:h,default:v,genDialogId:a,getMaxZIndex:c,getOverlapDimensions:i,getTargetElement:o,getTextClass:p,isUrlOrPath:t,makeDraggable:s,makeRequest:u,makeResizable:n,observeElement:b,replayLock:r,setModalWrapper:l,throttle:g,triggerEvent:m});let y="en";const w={en:{ok:"OK",confirm:"Confirm",cancel:"Cancel",save:"Save",close:"Close",prompt:"Prompt",sure:"Are you sure?"},zh:{ok:"确定",confirm:"确认",cancel:"取消",save:"保存",close:"关闭",prompt:"提示",sure:"确定吗？"},es:{ok:"Aceptar",confirm:"Confirmar",cancel:"Cancelar",save:"Guardar",close:"Cerrar",prompt:"Indicación",sure:"¿Estás seguro?"},pt:{ok:"OK",confirm:"Confirmar",cancel:"Cancelar",save:"Salvar",close:"Fechar",prompt:"Prompt",sure:"Tem certeza?"},ru:{ok:"OK",confirm:"Подтвердить",cancel:"Отмена",save:"Сохранить",close:"Закрыть",prompt:"Подсказка",sure:"Вы уверены?"},ja:{ok:"もちろん",confirm:"確認",cancel:"キャンセル",save:"保存",close:"閉じる",prompt:"促す",sure:"もちろん"},de:{ok:"OK",confirm:"Bestätigen",cancel:"Abbrechen",save:"Speichern",close:"Schließen",prompt:"Aufforderung",sure:"Bist du sicher?"},fr:{ok:"D'accord",confirm:"Confirmer",cancel:"Annuler",save:"Enregistrer",close:"Fermer",prompt:"Invite",sure:"Êtes-vous sûr?"},ko:{ok:"확인",confirm:"확인",cancel:"취소",save:"저장",close:"닫기",prompt:"프롬프트",sure:"확실합니까?"}},k=()=>y,x=e=>{(w[e]||w[e.replace(/-.*$/,"")])&&(y=e)},C=e=>w[y][e]||"",M=()=>w,S=()=>{const e=navigator.language||navigator.userLanguage,t=e.replace(/-.*$/,"");w[e]?y=e:w[t]&&(y=t),console.log(y,navigator.language,navigator.userLanguage)};var L={getCurrentLang:k,setCurrentLang:x,getConfig:C,getConfigs:M,setSystemLang:S},E=Object.freeze({__proto__:null,bs5LangConfigs:w,get bs5LangCurrentLang(){return y},default:L,getConfig:C,getConfigs:M,getCurrentLang:k,setCurrentLang:x,setSystemLang:S});function z(){if("undefined"==typeof bootstrap)return console.error("Bootstrap global object is not available. Please make sure Bootstrap 5 is properly loaded before using bs5dialog."),!1;const e=["Modal","Dropdown","Tooltip","Popover","Collapse"].filter((e=>!bootstrap[e]));return!(e.length>0)||(console.error(`Missing required Bootstrap components: ${e.join(", ")}. Please ensure the complete Bootstrap 5 library is loaded.`),!1)}function $(e){if(!z())return;e.querySelectorAll('[data-bs-toggle="dropdown"]').forEach((e=>{bootstrap.Dropdown.getInstance(e)||new bootstrap.Dropdown(e)}));e.querySelectorAll('[data-bs-toggle="tooltip"]').forEach((e=>{bootstrap.Tooltip.getInstance(e)||new bootstrap.Tooltip(e)}));e.querySelectorAll('[data-bs-toggle="popover"]').forEach((e=>{bootstrap.Popover.getInstance(e)||new bootstrap.Popover(e)}));e.querySelectorAll('[data-bs-toggle="collapse"]').forEach((e=>{bootstrap.Collapse.getInstance(e)||new bootstrap.Collapse(e,{toggle:!1})}));e.querySelectorAll(".alert").forEach((e=>{bootstrap.Alert.getInstance(e)||new bootstrap.Alert(e)}));e.querySelectorAll(".toast").forEach((e=>{bootstrap.Toast.getInstance(e)||new bootstrap.Toast(e)}));e.querySelectorAll(".carousel").forEach((e=>{bootstrap.Carousel.getInstance(e)||new bootstrap.Carousel(e)}));e.querySelectorAll(".offcanvas").forEach((e=>{bootstrap.Offcanvas.getInstance(e)||new bootstrap.Offcanvas(e)}));e.querySelectorAll('[data-bs-spy="scroll"]').forEach((e=>{bootstrap.ScrollSpy.getInstance(e)||new bootstrap.ScrollSpy(document.body,{target:e})}));e.querySelectorAll('[data-bs-toggle="tab"]').forEach((e=>{bootstrap.Tab.getInstance(e)||new bootstrap.Tab(e)}));e.querySelectorAll(".modal").forEach((e=>{bootstrap.Modal.getInstance(e)||new bootstrap.Modal(e)}));e.querySelectorAll('[data-bs-toggle="button"]').forEach((e=>{bootstrap.Button.getInstance(e)||new bootstrap.Button(e)}))}const T={"bs5-check":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n  <path d="M5 12l5 5l10 -10"></path>\n</svg>',"bs5-circle-check":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="24" height="24" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>\n<path d="M9 12l2 2l4 -4"></path>\n</svg>',"bs5-circle-check-filled":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-circle-check-filled" width="24" height="24" viewBox="0 0 24 24" stroke-width="0.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M17 3.34a10 10 0 1 1 -14.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 14.995 -8.336zm-1.293 5.953a1 1 0 0 0 -1.32 -.083l-.094 .083l-3.293 3.292l-1.293 -1.292l-.094 -.083a1 1 0 0 0 -1.403 1.403l.083 .094l2 2l.094 .083a1 1 0 0 0 1.226 0l.094 -.083l4 -4l.083 -.094a1 1 0 0 0 -.083 -1.32z" stroke-width="0" fill="currentColor"></path>\n</svg>',"bs5-square":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M3 3m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v14a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"></path>\n</svg>',"bs5-minimize":'<svg xmlns="http://www.w3.org/2000/svg" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#7f7f7f\'"  width="24" height="24" viewBox="0 0 24 24" stroke-width="1.8"  stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n  <path d="M15 19v-2a2 2 0 0 1 2 -2h2"></path>\n  <path d="M15 5v2a2 2 0 0 0 2 2h2"></path>\n  <path d="M5 15h2a2 2 0 0 1 2 2v2"></path>\n  <path d="M5 9h2a2 2 0 0 0 2 -2v-2"></path>\n</svg>',"bs5-maximize":'<svg xmlns="http://www.w3.org/2000/svg" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#7f7f7f\'"  width="24" height="24" viewBox="0 0 24 24" stroke-width="1.8" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n  <path d="M4 8v-2a2 2 0 0 1 2 -2h2"></path>\n  <path d="M4 16v2a2 2 0 0 0 2 2h2"></path>\n  <path d="M16 4h2a2 2 0 0 1 2 2v2"></path>\n  <path d="M16 20h2a2 2 0 0 0 2 -2v-2"></path>\n</svg>',"bs5-alert":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 8v4"></path>\n<path d="M12 16h.01"></path>\n</svg>',"bs5-alert-circle":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>\n<path d="M12 8v4"></path>\n<path d="M12 16h.01"></path>\n</svg>',"bs5-help":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 16v.01"></path>\n<path d="M12 13a2 2 0 0 0 .914 -3.782a1.98 1.98 0 0 0 -2.414 .483"></path>\n</svg>',"bs5-help-circle":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>\n<path d="M12 17l0 .01"></path>\n<path d="M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"></path>\n</svg>',"bs5-info":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 9h.01"></path>\n<path d="M11 12h1v4h1"></path>\n</svg>',"bs5-info-circle":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0"></path>\n<path d="M12 9h.01"></path>\n<path d="M11 12h1v4h1"></path>\n</svg>',"bs5-reload":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="48" height="48" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M19.933 13.041a8 8 0 1 1 -9.925 -8.788c3.899 -1 7.935 1.007 9.425 4.747"></path>\n<path d="M20 4v5h-5"></path>\n</svg>',"bs5-code":'<svg xmlns="http://www.w3.org/2000/svg" class="" width="3.5rem" height="3.5rem" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n  <path d="M7 8l-4 4l4 4"></path>\n  <path d="M17 8l4 4l-4 4"></path>\n  <path d="M14 4l-4 16"></path>\n</svg>',"bs5-alert-danger":'<svg xmlns="http://www.w3.org/2000/svg" class="text-danger" width="3.5rem" height="3.5rem" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"></path>\n<path d="M12 9v4"></path>\n<path d="M12 17h.01"></path>\n</svg>',"bs5-alert-warning":'<svg xmlns="http://www.w3.org/2000/svg" class="text-warning" width="3.5rem" height="3.5rem" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M10.24 3.957l-8.422 14.06a1.989 1.989 0 0 0 1.7 2.983h16.845a1.989 1.989 0 0 0 1.7 -2.983l-8.423 -14.06a1.989 1.989 0 0 0 -3.4 0z"></path>\n<path d="M12 9v4"></path>\n<path d="M12 17h.01"></path>\n</svg>',"bs5-alert-success":'<svg xmlns="http://www.w3.org/2000/svg" class="text-success" width="3.5rem" height="3.5rem" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"></path>\n<path d="M9 12l2 2l4 -4"></path>\n</svg>',"bs5-point":'<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-point" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n<path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n<path d="M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"></path>\n</svg>'};function q(e="",t="",o=""){e=e.replace(/\s+/g," "),t=t.replace(/\s+/g," "),o=o.replace(/\s+/g," ");let n=document.createElement("i");if(!e)return n;const s=T[e];if(s?s.startsWith("<svg")?(n.innerHTML=s,n=n.firstChild):n.classList.add(...s.trim().split(" ")):e.startsWith("<svg")?(n.innerHTML=e,n=n.firstChild):e.trim()&&n.classList.add(...e.trim().split(" ")),t.trim()&&n.classList.add(...t.trim().split(" ")),o.trim()){o.split(";").forEach((e=>{const[t,o]=e.split(":");t&&o&&n.style.setProperty(t.trim(),o.trim())}))}return n}function B(e,t={}){t={position:"center",type:"dark",closeBtn:!1,background:"",textColor:"",fontsize:"",icon:"",iconClass:"",iconStyle:"",timeout:3e3,onClosed:()=>{},...t};const o=document.createElement("div"),n=document.createElement("div");b(o,{created:()=>m(o,"bs5:dialog:message:created",{options:t,el:o}),rendered:()=>{m(o,"bs5:dialog:message:rendered",{options:t,el:o}),$(o)},hidden:()=>{t.onClosed?.(),m(o,"bs5:dialog:message:hidden",{options:t,el:o})},remove:()=>m(o,"bs5:dialog:message:remove",{options:t,el:o})}),o.classList.add("bs5-dialog-msg",`bs5-dialog-msg-${t.position}`),o.style.setProperty("z-index",c()+1),o.setAttribute("role","alert");const s=p(`bg-${t.type}`);if(n.classList.add(`bg-${t.type}`,"text-start",s,"rounded-1","py-0","ps-3","pe-2","fw-normal"),Object.assign(n.style,{height:"3rem",lineHeight:"3rem",padding:"0.375rem 1px",background:t.background||"",color:t.textColor||"",fontSize:t.fontsize||""}),n.innerHTML=`<span class="bs5-dialog-msg-content">${e}</span>`,t.icon){const e=q(t.icon,t.iconClass,t.iconStyle);e.style.setProperty("margin-inline-end","8px"),e.style.setProperty("margin-bottom","4px"),n.prepend(e)}if(t.closeBtn){const e=q('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" style="margin-bottom:4px;cursor:pointer"  onMouseOver="this.style.color=\'#e0e0e0;\'" onMouseOut="this.style.color=\'#eaeaea\'"  class="btn-x"  stroke-width="1"  viewBox="0 0 24 24" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">\n        <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>\n        <path d="M18 6l-12 12"></path>\n        <path d="M6 6l12 12"></path>\n      </svg>',"btn-x","");e.role="button",e.style.setProperty("margin-inline-start","8px"),e.setAttribute("aria-label","Close"),n.appendChild(e)}function i(){o.classList.add("bs5-dialog-msg-hide"),setTimeout((()=>{o.style.display="none",setTimeout((()=>o.remove()),500)}),300)}o.appendChild(n),document.body.appendChild(o),t.timeout&&setTimeout(i,t.timeout);const a=o.querySelector(".btn-x");return a&&a.addEventListener("click",i),o.hide=i,event?.target&&(event.target.hide=i),{el:o,message:e,options:t,hide:i}}const O=B;async function H(e,o={}){if(!z())return{el:null,content:e,options:o};const i=(o={title:"",type:"danger",size:"lg",id:"",centered:!0,scrollable:!0,maximize:!1,backdrop:!1,focus:!0,keyboard:!0,draggable:!0,resizable:!0,btnOkText:"",btnCancelText:"",onShow:null,onShown:null,onHidden:null,isForm:!0,onSubmit:null,onSubmitSuccess:()=>{},onSubmitError:()=>{},onSubmitDone:()=>{},...o}).id&&document.getElementById(o.id)?document.getElementById(o.id):(()=>{const e=l();return e.setAttribute("id",o.id||a()),e})();if(b(i,{created:()=>{o.onShow?.(i),m(i,"bs5:dialog:load:created",{options:o,el:i})},rendered:()=>{o.onShown?.(i),$(i),!1===o.backdrop&&(document.querySelector(".modal-backdrop")?.remove(),i.style.pointerEvents="none"),m(i,"bs5:dialog:load:rendered",{options:o,el:i});const e=bootstrap.Modal.getOrCreateInstance(i),t=i.querySelector(".modal-footer .btn-cancel");t&&t.addEventListener("click",(()=>{r(t),m(i,"bs5:dialog:load:cancel",{options:o}),o.onCancel?.(),e.hide()}));const n=i.querySelector("form");if(o.isForm&&n){i.querySelector(".modal-footer").classList.remove("d-none");const t=n.querySelector('button[type="submit"]'),s=i.querySelector(".modal-footer .btn-ok");t&&(t.style.display="none",s.textContent=t.textContent),s.setAttribute("type","submit"),n.addEventListener("submit",(e=>e.preventDefault())),s.addEventListener("click",(async t=>{t.preventDefault(),r(s),await(async(e,t,n)=>{try{t.disabled=!0;const s=new FormData(e),a={options:o,formEl:e,formAction:e.action,formMethod:e.method,formData:s};m(i,"bs5:dialog:form:submit",a),o.onSubmit?.(i);const l=await u(e.action,e.method,{},s);a.submitResult=l,m(i,"bs5:dialog:form:submit:complete",a),o.onSubmitDone?.(l),l.isSuccess?(m(i,"bs5:dialog:form:submit:success",a),o.onSubmitSuccess?.(l),n.hide()):(m(i,"bs5:dialog:form:submit:error",a),o.onSubmitError?.(l),B(l.content))}catch(e){console.error("Form submission error:",e),B("An error occurred during form submission"),o.onSubmitError?.({isSuccess:!1,content:e.message})}finally{t.disabled=!1}})(n,s,e)})),n.addEventListener("keypress",(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),s.click())}))}},hidden:()=>{o.onHidden?.(i),m(i,"bs5:dialog:load:hidden",{options:o,el:i})},remove:()=>{m(i,"bs5:dialog:load:remove",{options:o,el:i})},resize:()=>{m(i,"bs5:dialog:load:resize",{options:o,el:i})},dragged:()=>{m(i,"bs5:dialog:load:dragged",{options:o,el:i})}}),t(e)){const t=e;((e=(await u(t,"GET")).content).includes("<!DOCTYPE html>")||e.includes("<html"))&&(e=`<iframe src="${t}" width='100%' height='100%'></iframe>`,o.scrollable=!1)}i.innerHTML=`\n    <div class="modal-dialog ${o.maximize?"modal-fullscreen":`modal-${o.size}`} \n         ${o.centered?"modal-dialog-centered":""} \n         ${o.scrollable?"modal-dialog-scrollable":""}" role="document">\n      <div class="modal-content shadow">\n        <div class="modal-status bg-${o.type}"></div>\n        <div class="modal-header">\n          <h5 class="modal-title">${o.title}</h5>\n          <div class='modal-maximize-toggle'></div>\n          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n        </div>\n        <div class="modal-body" ${o.scrollable?"style='height:60vh'":""}>\n          ${e}\n        </div>\n        <div class="modal-footer d-none">\n          <button type="button" class="btn me-auto btn-cancel" data-bs-dismiss="modal">\n            ${o.btnCancelText||C("cancel")}\n          </button>\n          <button type="button" class="btn btn-ok btn-${o.type}">\n            ${o.btnOkText||C("save")}\n          </button>\n        </div>\n      </div>\n    </div>\n  `,o.draggable&&s(i,i.querySelector(".modal-header")),o.resizable&&n(i.querySelector(".modal-content"));const d=i.querySelector(".modal-maximize-toggle"),c=q("bs5-minimize","btn-minimize btn-maximize-toggle "+(o.maximize?"":"d-none"),"width:1.438rem;height:1.438rem;cursor:pointer;"),p=q("bs5-maximize","btn-maximize btn-maximize-toggle "+(o.maximize?"d-none":""),"width:1.438rem;height:1.438rem;cursor:pointer;");d.append(c,p),document.body.appendChild(i);bootstrap.Modal.getOrCreateInstance(i,{keyboard:o.keyboard,focus:o.focus,backdrop:o.backdrop}).show();const h=i.querySelector(".modal-dialog");return i.querySelectorAll(".btn-maximize-toggle").forEach((e=>{e.addEventListener("click",(function(){if(this.classList.contains("btn-maximize")){m(i,"bs5:dialog:load:maximize",{options:o}),h.parentElement.style.top=0,h.parentElement.style.left=0;const e=h.querySelector(".modal-content");e.style.width=null,e.style.height=null,h.classList.add("modal-fullscreen"),h.classList.remove(`modal-${o.size}`),this.classList.add("d-none"),i.querySelector(".btn-minimize").classList.remove("d-none")}else this.classList.contains("btn-minimize")&&(m(i,"bs5:dialog:load:minimize",{options:o}),h.classList.remove("modal-fullscreen"),h.classList.add(`modal-${o.size}`),this.classList.add("d-none"),i.querySelector(".btn-maximize").classList.remove("d-none"))}))})),{el:i,content:e,options:o}}function A(e,t={}){if(!z())return{el:null,content:e,options:t};t={title:"",direction:"start",size:"",id:"",backdrop:!0,scroll:!0,dark:!1,accordion:!0,container:"",onShown:()=>{},onHidden:()=>{},...t};const o=document.querySelector(t.container||"body"),n="start"===(s=t.direction)?"left":"end"===s?"right":s;var s;const l=t.id&&document.getElementById(t.id)?document.getElementById(t.id):function(e){const t=document.createElement("div");return t.setAttribute("id",e.id||a()),t}(t);!function(e,t,o,n,s){b(e,{created:()=>{m(e,"bs5:dialog:offcanvas:created",{options:t,el:e})},rendered:()=>{if(s=document.body.style.getPropertyValue(`padding-${n}`),t.accordion){const t=i(e,o),s=["left","right"].includes(n)?`${t.overlapWidth}px`:`${t.overlapHeight}px`;o.style.setProperty(`padding-${n}`,s)}m(e,"bs5:dialog:offcanvas:rendered",{options:t,el:e}),$(e),t.onShown?.(e)},hidden:()=>{t.accordion&&o.style.setProperty(`padding-${n}`,s),m(e,"bs5:dialog:offcanvas:hidden",{options:t,el:e}),t.onHidden?.(e)},remove:()=>{m(e,"bs5:dialog:offcanvas:remove",{options:t,el:e})}})}(l,t,o,n,undefined),function(e,t){e.classList.add("offcanvas","bs5dialog-offcanvas",`offcanvas-${t.direction}`),e.setAttribute("tabindex","-1"),e.setAttribute("role","dialog"),(!0===t.scroll||"true"===t.scroll)&&e.setAttribute("data-bs-scroll","true");e.setAttribute("data-bs-backdrop",t.backdrop),"start"===t.direction||"end"===t.direction?e.style.width=t.size:"top"!==t.direction&&"bottom"!==t.direction||(e.style.height=t.size)}(l,t),function(e,t,o){e.innerHTML=`\n    <div class="offcanvas-header">\n      <h5 class="offcanvas-title">${o.title||""}</h5>\n      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#${o.id}" aria-label="Close"></button>\n    </div>\n    <div class="offcanvas-body">\n      ${t}\n    </div>`,(!0===o.dark||"true"===o.dark)&&(e.classList.add("text-bg-dark"),e.querySelector(".btn-close").classList.add("btn-close-white"))}(l,e,t),document.body.appendChild(l);return bootstrap.Offcanvas.getOrCreateInstance(l).toggle(),{el:l,content:e,options:t}}function I(e="",t={}){if(!z())return{el:null,content:e,options:t};const o=(t={title:"",type:"success",size:"md",id:"",btnOkText:"",icon:null,iconClass:"",iconStyle:"",onOk:null,timeout:0,...t}).id&&document.getElementById(t.id)?document.getElementById(t.id):(()=>{const e=l();return e.setAttribute("id",t.id||a()),e})();b(o,{created:()=>{m(o,"bs5:dialog:alert:created",{options:t,el:o})},rendered:()=>{m(o,"bs5:dialog:alert:rendered",{options:t,el:o});const e=bootstrap.Modal.getOrCreateInstance(o);$(o);const n=o.querySelector(".modal-footer .btn-ok");n&&n.addEventListener("click",(()=>{r(n),m(o,"bs5:dialog:alert:ok",{options:t}),t.onOk?.(),e.hide()}));const s=o.querySelector(".modal-footer .btn-cancel");s&&s.addEventListener("click",(()=>{r(s),m(o,"bs5:dialog:alert:cancel",{options:t}),t.onCancel?.(),e.hide()}))},hidden:()=>{m(o,"bs5:dialog:alert:hidden",{options:t,el:o})},remove:()=>{m(o,"bs5:dialog:alert:remove",{options:t,el:o})}}),o.classList.add("bs5dialog-modal-alert"),o.innerHTML=`\n    <div class="modal-dialog modal-${t.size||"sm"} modal-dialog-centered" style="transform: none;">\n      <div class="modal-content">\n        <div class="modal-status bg-${t.type}"></div>\n        <div class="modal-body text-center py-4">\n          <div class='modal-icon'></div>\n          <h3 class="modal-title mb-2">${t.title}</h3>\n          <div class="text-muted">${e}</div>\n        </div>\n        <div class="modal-footer">\n          <div class="w-100">\n            <div class="row">\n              <div class="col"></div>\n              <div class="col">\n                <button type="button" class="w-100 text-truncate btn btn-default btn-ok btn-${t.type}">\n                  ${t.btnOkText||C("ok")}\n                </button>\n              </div>\n              <div class="col"></div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,t.type&&null==t.icon&&(t.icon=`bs5-alert-${t.type}`);const n=q(t.icon,t.iconClass,t.iconStyle);o.querySelector(".modal-icon").appendChild(n),document.body.appendChild(o);const s=bootstrap.Modal.getOrCreateInstance(o);return s.show(),o.addEventListener("hidden.bs.modal",(()=>{o.remove()})),t.timeout>0&&setTimeout((()=>{s.hide()}),t.timeout),{el:o,content:e,options:t}}function j(e="",t={}){if(!z())return{el:null,content:e,options:t};const o={title:C("sure"),type:"danger",id:"",size:"md",btnOkText:"",btnCancelText:"",icon:null,iconClass:"",iconStyle:"",onConfirm:null,onCancel:null},n=(t={...o,...t}).id&&document.getElementById(t.id)?document.getElementById(t.id):(()=>{const e=l();return e.setAttribute("id",t.id||a()),e})();n.classList.add("bs5dialog-modal-confirm"),b(n,{created:()=>{m(n,"bs5:dialog:confirm:created",{options:t,el:n})},rendered:()=>{m(n,"bs5:dialog:confirm:rendered",{options:t,el:n});const e=bootstrap.Modal.getOrCreateInstance(n);$(n);const o=n.querySelector(".modal-footer .btn-ok"),s=n.querySelector(".modal-footer .btn-cancel");o&&o.addEventListener("click",(()=>{r(o),m(n,"bs5:dialog:confirm:ok",{options:t}),t.onConfirm?.(),e.hide()})),s&&s.addEventListener("click",(()=>{r(s),m(n,"bs5:dialog:confirm:cancel",{options:t}),t.onCancel?.(),e.hide()}))},hidden:()=>{m(n,"bs5:dialog:confirm:hidden",{options:t,el:n})},remove:()=>{m(n,"bs5:dialog:confirm:remove",{options:t,el:n})}}),n.innerHTML=`\n    <div class="modal-dialog modal-${t.size} modal-dialog-centered">\n      <div class="modal-content">\n        <div class="modal-status bg-${t.type}"></div>\n        <div class="modal-body text-center py-4">\n          <div class='modal-icon'></div>\n          <h3 class="modal-title mb-1">${t.title}</h3>\n          <div class="text-muted">${e}</div>\n        </div>\n        <div class="modal-footer">\n          <div class="w-100">\n            <div class="row">\n              <div class="col">\n                <button type="button" class="w-100 btn btn-default btn-cancel text-truncate mb-2" data-bs-dismiss="modal">\n                  ${t.btnCancelText||C("cancel")}\n                </button>\n              </div>\n              <div class="col">\n                <button type="button" class="w-100 btn btn-default btn-${t.type} btn-ok text-truncate mb-2">\n                  ${t.btnOkText||C("confirm")}\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  `,t.type&&null==t.icon&&(t.icon=`bs5-alert-${t.type}`);const s=q(t.icon,t.iconClass,t.iconStyle);n.querySelector(".modal-icon").appendChild(s),document.body.appendChild(n);return bootstrap.Modal.getOrCreateInstance(n).show(),n.addEventListener("hidden.bs.modal",(()=>{n.remove()})),{el:n,content:e,options:t}}function D(e,t={}){if(!z())return{el:null,content:e,options:t};const o=(t={title:"",type:"secondary",size:"md",btnText:"",icon:null,iconClass:"",iconStyle:"",required:!0,secret:!1,onConfirm:null,onCancel:null,...t}).id&&document.getElementById(t.id)?document.getElementById(t.id):(()=>{const e=l();return e.setAttribute("id",t.id||a()),e})();b(o,{created:()=>m(o,"bs5:dialog:prompt:created",{options:t,el:o}),rendered:()=>{m(o,"bs5:dialog:prompt:rendered",{options:t,el:o});const e=bootstrap.Modal.getOrCreateInstance(o);$(o);const n=o.querySelector(".modal-body input"),s=o.querySelector(".modal-footer .btn-ok"),i=o.querySelector(".modal-footer .btn-cancel");n.addEventListener("keyup",(e=>((e,n,s)=>{e.preventDefault(),m(o,"bs5:dialog:prompt:typing",{options:t,value:n.value}),n.value.length>0?s.classList.remove("disabled"):s.classList.add("disabled"),13!==e.keyCode||s.classList.contains("disabled")||s.click()})(e,n,s))),s&&(t.required&&s.classList.add("disabled"),s.addEventListener("click",(()=>((e,n,s)=>{r(s),m(o,"bs5:dialog:prompt:ok",{options:t}),t.onConfirm?.(e.value),n.hide()})(n,e,s)))),i&&i.addEventListener("click",(()=>((e,n)=>{r(e),m(o,"bs5:dialog:prompt:cancel",{options:t}),t.onCancel?.(),n.hide()})(i,e)))},hidden:()=>m(o,"bs5:dialog:prompt:hidden",{options:t,el:o}),remove:()=>m(o,"bs5:dialog:prompt:remove",{options:t,el:o}),resize:()=>m(o,"bs5:dialog:prompt:resize",{options:t,el:o}),dragged:()=>m(o,"bs5:dialog:prompt:dragged",{options:t,el:o})}),o.classList.add("bs5dialog-modal-prompt"),o.innerHTML=`\n    <div class="modal-dialog modal-${t.size} modal-dialog-centered">\n    <div class="modal-content">\n      <div class="modal-status bg-${t.type}"></div>\n      <div class="modal-body text-center py-4">\n      <div class='modal-icon'></div>\n        <h5 class="modal-title mb-2">${t.title}</h5>\n        <div class="text-muted mb-2">${e}</div>\n        <input class="form-control" type="${t.secret?"password":"text"}" placeholder="">\n      </div>\n      <div class="modal-footer">\n        <div class="w-100">\n          <div class="row">\n            <div class="col">\n              <button type="button" class="w-100 btn btn-default btn-cancel text-truncate" data-bs-dismiss="modal">${C("cancel")}</button>\n            </div>\n            <div class="col">\n              <button type="button" class="w-100 btn btn-default btn-${t.type} btn-ok text-truncate">${C("ok")}</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n    `,t.type&&null==t.icon&&(t.icon="bs5-code",t.iconClass="text-"+t.type);const n=q(t.icon,t.iconClass,t.iconStyle);o.querySelector(".modal-icon").appendChild(n),document.body.appendChild(o);return new bootstrap.Modal(o).show(),o.addEventListener("hidden.bs.modal",(()=>o.remove())),{el:o,content:e,options:t}}function P(e,t={}){t={title:"Notice",subtitle:"",position:"center",type:"success",closeBtn:!1,icon:"",iconClass:"",iconStyle:"",timeout:3e3,onShow:()=>{},onShown:()=>{},onHide:()=>{},onHidden:()=>{},...t};const o=document.createElement("div"),n=()=>{t.onHide?.(),o.classList.add("bs5-dialog-msg-hide")};b(o,{created:()=>{t.onShow?.(),m(o,"bs5:dialog:toast:created",{options:t,el:o})},rendered:()=>{t.onShown?.(),m(o,"bs5:dialog:toast:rendered",{options:t,el:o}),$(o)},hidden:()=>{t.onHidden?.(),m(o,"bs5:dialog:toast:hidden",{options:t,el:o})},remove:()=>{m(o,"bs5:dialog:toast:remove",{options:t,el:o})}}),o.classList.add("toast","show","bs5-dialog-msg",`bs5-dialog-msg-${t.position}`),o.setAttribute("role","alert"),o.style.zIndex=c()+1;const s=document.createElement("div");if(s.classList.add("toast-body","bg-white"),s.innerHTML=e,t.title){const e=document.createElement("div"),n=p(`bg-${t.type}`);e.classList.add("toast-header",`bg-${t.type}`,n);const s="text-white"===n?"btn-close-white":"";if(e.innerHTML=`\n      <strong class="me-auto">${t.title}</strong>\n      <small class="text-truncate" style="max-width: 50%;">${t.subtitle}</small>\n      <button type="button" class="btn-x btn-close ${s}" data-bs-dismiss="toast" aria-label="Close"></button>\n    `,t.icon){const o=q(t.icon,t.iconClass,t.iconStyle);o.classList.add(n),e.prepend(o),e.classList.add("ps-1")}o.appendChild(e)}o.appendChild(s),document.body.appendChild(o),t.timeout&&h(n,t.timeout),o.hide=n;const i=o.querySelector(".btn-x");return i&&i.addEventListener("click",n),{el:o,message:e,options:t}}const R={border:'<div class="spinner-border" role="status"></div>',grow:'<div class="spinner-grow" role="status"></div>'};function W(e=document.body,t={}){t={animation:"border",animationClass:"",animationStyle:"",text:"Please wait...",type:"warning",backdrop:!0,timeout:0,...t};const n=o(e);if(!n)return void console.error("Target element not found");n.querySelector(".bs5-dialog-loading")?.remove();const s=window.getComputedStyle(n),i=["fixed","absolute"].includes(s.position)&&n.firstChild?n.firstChild:n;i.style.position="relative";const a=i.getBoundingClientRect(),l=document.createElement("div");Object.assign(l.style,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",pointerEvents:"auto",backgroundColor:"rgba(255, 255, 255, 0.7)",zIndex:String(c()+1)}),l.classList.add("bs5-dialog-loading"),b(l,{created:()=>m(l,"bs5:dialog:loading:created",{options:t,el:l}),rendered:()=>{m(l,"bs5:dialog:loading:rendered",{options:t,el:l}),$(l)},hidden:()=>m(l,"bs5:dialog:loading:hidden",{options:t,el:l}),remove:()=>m(l,"bs5:dialog:loading:remove",{options:t,el:l})}),!1!==t.backdrop&&"false"!==t.backdrop||(l.style.backgroundColor="transparent",l.style.pointerEvents="none"),t.type&&(t.type=t.type.startsWith("text-")?t.type:`text-${t.type}`,t.animationClass=`${t.animationClass} ${t.type}`.trim());const r=function(e="",t="",o=""){e=e.trim(),t=t.trim(),o=o.trim();const n=R[e]||e,s=document.createElement("div");if(!e)return s;let i;s.innerHTML=n.trim(),i=s.firstChild&&s.firstChild instanceof Element?s.firstChild:s,t.trim()&&i.classList.add(...t.split(" ")),o.trim()&&o.split(";").forEach((e=>{const[t,o]=e.split(":");t&&o&&(i.style[t.trim()]=o.trim())}));return i}(t.animation,t.animationClass,t.animationStyle),d=r.getBoundingClientRect();if(l.appendChild(r),t.text){const e=document.createElement("div");Object.assign(e.style,{position:"relative",textAlign:"center",color:"#333",bottom:`-${d.height}px`}),e.innerText=t.text,l.appendChild(e),a.height<=40&&r.remove()}const p=i.style.cursor;i.appendChild(l),i.style.cursor="wait";const u=()=>{l.remove(),i.style.cursor=p,h&&clearTimeout(h)};let h;return t.timeout>0&&(h=setTimeout(u,t.timeout)),i.hide=u,{el:i,options:t}}function F(){document.querySelectorAll(".bs5-dialog-loading").forEach((e=>{e.parentNode.style.cursor="auto",e.remove()}))}const N=W,_=F,K={alert:I,confirm:j,prompt:D,message:B,toast:P,load:H,offcanvas:A};function X(){S(),function(){const e=document.querySelectorAll("[data-bs5-dialog]");for(const t of e){const e=Object.fromEntries([...t.attributes].filter((e=>e.name.startsWith("data-bs5-dialog-option-"))).map((e=>[e.name.replace("data-bs5-dialog-option-",""),e.value])));t.addEventListener("click",(()=>{const o=t.title||t.dataset.content||"",n=t.dataset.bs5DialogOptions?JSON.parse(t.dataset.bs5DialogOptions):{},s=K[t.dataset.bs5Dialog];"function"==typeof s?s(o.trim(),{...e,...n}):console.log(`Function ${t.dataset.bs5Dialog} does not exist`)}))}}()}const Y=z(),G={alert:I,confirm:j,prompt:D,message:B,msg:O,toast:P,loading:W,showLoading:N,loadingClean:F,hideLoading:_,load:H,offcanvas:A,utils:f,i18n:E,setSystemLang:S,startup:X,checkBootstrapAvailability:z,isBootstrapAvailable:Y};e.alert=I,e.checkBootstrapAvailability=z,e.confirm=j,e.default=G,e.hideLoading=_,e.i18n=E,e.isBootstrapAvailable=Y,e.load=H,e.loading=W,e.loadingClean=F,e.message=B,e.msg=O,e.offcanvas=A,e.prompt=D,e.setSystemLang=S,e.showLoading=N,e.startup=X,e.toast=P,e.utils=f,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=bs5dialog.js.map
